<%- include('layout/header') %>
<link rel="stylesheet" type="text/css" href="/css/table.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<!-- Add these links to your HTML -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<div id="wrapper">
    <table id="keywords" cellspacing="0" cellpadding="0">
        <thead>
            <tr>
                <th><span>Id</span></th>
                <th><span>Username</span></th>
                <th><span>Position</span></th>
                <th><span>Edit</span></th>
                <th><span>Delete</span></th>

            </tr>
        </thead>
        <tbody>
            <% users.forEach(function(user) { %>
            <tr>
                <td> <%= user.id %></td>
                <td> <%= user.username %> </td>
                <td><%= user.position %></td>

                <td>
                    <a href="#" data-toggle="modal" data-target="#editModal" data-id="<%= user.id %>">
                        <i class="fas fa-edit " style= "color: #4277e0"></i>
                    </a>
                </td>
                <td>
                    <a href="#" data-toggle="modal" data-target="#deleteModal" data-id="<%= user.id %>">
                        <i class="fas fa-trash-alt"></i>
                    </a>
                </td>
                
            </tr>
            <% }); %>
        </tbody>
    </table>
</div>

<!-- edit Modal -->
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen-sm-down" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editModalLabel">Edit User</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="editUserForm">
                    <div class="form-group">
                        <label for="editPosition">User Position</label>
                        <input type="text" class="form-control" id="editPosition" name="title">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="editUserButton">Save Changes</button>
            </div>
        </div>
    </div>
</div>

<!-- delete Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true"><div class="modal-dialog modal-fullscreen-sm-down" role="document">
    <div class="modal-content">
        <!-- Add your modal content here -->
        <div class="modal-header">
            <h5 class="modal-title" id="deleteModalLabel">Delete User</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <p>This User is gonna be deleted permanently are you sure that you want to do that ? </p>
        </div>
            
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-danger" id="confirmDeleteButton">Delete</button>
        </div>
    </div>
</div>
<!-- js code -->
<script src="/js/usershandler.js"></script>
